'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
function groundDistance(primaryCoordinates, secondaryCoordinates) {
    var radius = 6371; // Radius of the earth in km
    var latitudeDifference = (secondaryCoordinates['lat'] - primaryCoordinates['lat']) * Math.PI / 180; // deg2rad below
    var longitudeDifference = (secondaryCoordinates['lon'] - primaryCoordinates['lon']) * Math.PI / 180;
    var squaredHalfChordLength = 0.5 - Math.cos(latitudeDifference) / 2 + Math.cos(primaryCoordinates['lat'] * Math.PI / 180) * Math.cos(secondaryCoordinates['lat'] * Math.PI / 180) * (1 - Math.cos(longitudeDifference)) / 2;

    return Math.round(radius * 2 * Math.asin(Math.sqrt(squaredHalfChordLength)) * 0.62137119);
}

exports.groundDistance = groundDistance;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9oZWxwZXJzL2NhbGN1bGF0aW9ucy5qcyJdLCJuYW1lcyI6WyJncm91bmREaXN0YW5jZSIsInByaW1hcnlDb29yZGluYXRlcyIsInNlY29uZGFyeUNvb3JkaW5hdGVzIiwicmFkaXVzIiwibGF0aXR1ZGVEaWZmZXJlbmNlIiwiTWF0aCIsIlBJIiwibG9uZ2l0dWRlRGlmZmVyZW5jZSIsInNxdWFyZWRIYWxmQ2hvcmRMZW5ndGgiLCJjb3MiLCJyb3VuZCIsImFzaW4iLCJzcXJ0Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLFNBQVNBLGNBQVQsQ0FBd0JDLGtCQUF4QixFQUE0Q0Msb0JBQTVDLEVBQWtFO0FBQzlELFFBQU1DLFNBQVMsSUFBZixDQUQ4RCxDQUN6QztBQUNyQixRQUFNQyxxQkFBcUIsQ0FBQ0YscUJBQXFCLEtBQXJCLElBQThCRCxtQkFBbUIsS0FBbkIsQ0FBL0IsSUFBNERJLEtBQUtDLEVBQWpFLEdBQXNFLEdBQWpHLENBRjhELENBRXdDO0FBQ3RHLFFBQU1DLHNCQUFzQixDQUFDTCxxQkFBcUIsS0FBckIsSUFBOEJELG1CQUFtQixLQUFuQixDQUEvQixJQUE0REksS0FBS0MsRUFBakUsR0FBc0UsR0FBbEc7QUFDQSxRQUFNRSx5QkFDRixNQUFNSCxLQUFLSSxHQUFMLENBQVNMLGtCQUFULElBQStCLENBQXJDLEdBQ0FDLEtBQUtJLEdBQUwsQ0FBU1IsbUJBQW1CLEtBQW5CLElBQTRCSSxLQUFLQyxFQUFqQyxHQUFzQyxHQUEvQyxJQUFzREQsS0FBS0ksR0FBTCxDQUFTUCxxQkFBcUIsS0FBckIsSUFBOEJHLEtBQUtDLEVBQW5DLEdBQXdDLEdBQWpELENBQXRELElBQ0MsSUFBSUQsS0FBS0ksR0FBTCxDQUFTRixtQkFBVCxDQURMLElBQ3NDLENBSDFDOztBQUtBLFdBQU9GLEtBQUtLLEtBQUwsQ0FBV1AsU0FBUyxDQUFULEdBQWFFLEtBQUtNLElBQUwsQ0FBVU4sS0FBS08sSUFBTCxDQUFVSixzQkFBVixDQUFWLENBQWIsR0FBNEQsVUFBdkUsQ0FBUDtBQUNIOztRQUdHUixjLEdBQUFBLGMiLCJmaWxlIjoiY2FsY3VsYXRpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZ3JvdW5kRGlzdGFuY2UocHJpbWFyeUNvb3JkaW5hdGVzLCBzZWNvbmRhcnlDb29yZGluYXRlcykge1xyXG4gICAgY29uc3QgcmFkaXVzID0gNjM3MTsgLy8gUmFkaXVzIG9mIHRoZSBlYXJ0aCBpbiBrbVxyXG4gICAgY29uc3QgbGF0aXR1ZGVEaWZmZXJlbmNlID0gKHNlY29uZGFyeUNvb3JkaW5hdGVzWydsYXQnXSAtIHByaW1hcnlDb29yZGluYXRlc1snbGF0J10pICogTWF0aC5QSSAvIDE4MDsgLy8gZGVnMnJhZCBiZWxvd1xyXG4gICAgY29uc3QgbG9uZ2l0dWRlRGlmZmVyZW5jZSA9IChzZWNvbmRhcnlDb29yZGluYXRlc1snbG9uJ10gLSBwcmltYXJ5Q29vcmRpbmF0ZXNbJ2xvbiddKSAqIE1hdGguUEkgLyAxODA7XHJcbiAgICBjb25zdCBzcXVhcmVkSGFsZkNob3JkTGVuZ3RoID1cclxuICAgICAgICAwLjUgLSBNYXRoLmNvcyhsYXRpdHVkZURpZmZlcmVuY2UpIC8gMiArXHJcbiAgICAgICAgTWF0aC5jb3MocHJpbWFyeUNvb3JkaW5hdGVzWydsYXQnXSAqIE1hdGguUEkgLyAxODApICogTWF0aC5jb3Moc2Vjb25kYXJ5Q29vcmRpbmF0ZXNbJ2xhdCddICogTWF0aC5QSSAvIDE4MCkgKlxyXG4gICAgICAgICgxIC0gTWF0aC5jb3MobG9uZ2l0dWRlRGlmZmVyZW5jZSkpIC8gMjtcclxuXHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChyYWRpdXMgKiAyICogTWF0aC5hc2luKE1hdGguc3FydChzcXVhcmVkSGFsZkNob3JkTGVuZ3RoKSkgKiAwLjYyMTM3MTE5KTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIGdyb3VuZERpc3RhbmNlXHJcbn07Il19