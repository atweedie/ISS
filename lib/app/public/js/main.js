'use strict';

var map;
var json;
var issCoords;
var flightPath;
var marker;
var circle;
var distance;

$(document).ready(function () {
    ajax();
});

function setDistance(distance) {
    $('#distance > p').empty().append(distance + ' Miles');
    if (distance < 1000) {
        circle.setOptions({
            fillColor: '#00AA30',
            strokeColor: '#005D1A'
        });
    } else {
        circle.setOptions({
            fillColor: '#F61919',
            strokeColor: '#AA0000'
        });
    }
}

function ajax() {
    $.getJSON('/ajax', function (data) {
        issCoords = data['coordinates'];
        distance = data['distance'];
        marker.setPosition(issCoords[issCoords.length - 1]);
        flightPath.setPath(issCoords);
        setDistance(distance);
    });
};

function initMap() {

    map = new google.maps.Map(document.getElementById('map'), {
        zoom: 2,
        styles: [{
            "featureType": "all",
            "elementType": "labels.text.fill",
            "stylers": [{
                "saturation": 36
            }, {
                "color": "#000000"
            }, {
                "lightness": 40
            }]
        }, {
            "featureType": "all",
            "elementType": "labels.text.stroke",
            "stylers": [{
                "visibility": "on"
            }, {
                "color": "#000000"
            }, {
                "lightness": 16
            }]
        }, {
            "featureType": "all",
            "elementType": "labels.icon",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "administrative",
            "elementType": "geometry.fill",
            "stylers": [{
                "color": "#000000"
            }, {
                "lightness": 20
            }]
        }, {
            "featureType": "administrative",
            "elementType": "geometry.stroke",
            "stylers": [{
                "color": "#000000"
            }, {
                "lightness": 17
            }, {
                "weight": 1.2
            }]
        }, {
            "featureType": "landscape",
            "elementType": "geometry",
            "stylers": [{
                "color": "#000000"
            }, {
                "lightness": 20
            }]
        }, {
            "featureType": "poi",
            "elementType": "geometry",
            "stylers": [{
                "color": "#000000"
            }, {
                "lightness": 21
            }]
        }, {
            "featureType": "road.highway",
            "elementType": "geometry.fill",
            "stylers": [{
                "color": "#000000"
            }, {
                "lightness": 17
            }]
        }, {
            "featureType": "road.highway",
            "elementType": "geometry.stroke",
            "stylers": [{
                "color": "#000000"
            }, {
                "lightness": 29
            }, {
                "weight": 0.2
            }]
        }, {
            "featureType": "road.arterial",
            "elementType": "geometry",
            "stylers": [{
                "color": "#000000"
            }, {
                "lightness": 18
            }]
        }, {
            "featureType": "road.local",
            "elementType": "geometry",
            "stylers": [{
                "color": "#000000"
            }, {
                "lightness": 16
            }]
        }, {
            "featureType": "transit",
            "elementType": "geometry",
            "stylers": [{
                "color": "#000000"
            }, {
                "lightness": 19
            }]
        }, {
            "featureType": "water",
            "elementType": "geometry",
            "stylers": [{
                "color": "#000000"
            }, {
                "lightness": 17
            }]
        }],
        center: new google.maps.LatLng({
            lat: 53.5421579,
            lng: -2.1092045
        }),
        mapTypeId: 'terrain'
    });

    marker = new google.maps.Marker({
        icon: '/images/iss_map_marker.png',
        map: map,
        title: 'ISS Location'
    });

    hackOldham = new google.maps.Marker({
        position: {
            lat: 53.5421579,
            lng: -2.1092045
        },
        icon: '/images/cog_map_marker.png',
        map: map,
        title: 'Hack Oldham'
    });

    circle = new google.maps.Circle({
        map: map,
        radius: 1287440, // 1000 miles in metres
        fillColor: '#F61919',
        strokeColor: '#AA0000',
        strokeWeight: 1
    });
    circle.bindTo('center', hackOldham, 'position');

    flightPath = new google.maps.Polyline({
        path: issCoords,
        geodesic: true,
        strokeColor: '#8fbce5',
        strokeOpacity: 1.0,
        strokeWeight: 1.5
    });
    flightPath.setMap(map);
}

setInterval(function () {
    ajax();
}, 5000);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9hcHAvcHVibGljL2pzL21haW4uanMiXSwibmFtZXMiOlsibWFwIiwianNvbiIsImlzc0Nvb3JkcyIsImZsaWdodFBhdGgiLCJtYXJrZXIiLCJjaXJjbGUiLCJkaXN0YW5jZSIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiYWpheCIsInNldERpc3RhbmNlIiwiZW1wdHkiLCJhcHBlbmQiLCJzZXRPcHRpb25zIiwiZmlsbENvbG9yIiwic3Ryb2tlQ29sb3IiLCJnZXRKU09OIiwiZGF0YSIsInNldFBvc2l0aW9uIiwibGVuZ3RoIiwic2V0UGF0aCIsImluaXRNYXAiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiZ2V0RWxlbWVudEJ5SWQiLCJ6b29tIiwic3R5bGVzIiwiY2VudGVyIiwiTGF0TG5nIiwibGF0IiwibG5nIiwibWFwVHlwZUlkIiwiTWFya2VyIiwiaWNvbiIsInRpdGxlIiwiaGFja09sZGhhbSIsInBvc2l0aW9uIiwiQ2lyY2xlIiwicmFkaXVzIiwic3Ryb2tlV2VpZ2h0IiwiYmluZFRvIiwiUG9seWxpbmUiLCJwYXRoIiwiZ2VvZGVzaWMiLCJzdHJva2VPcGFjaXR5Iiwic2V0TWFwIiwic2V0SW50ZXJ2YWwiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsR0FBSjtBQUNBLElBQUlDLElBQUo7QUFDQSxJQUFJQyxTQUFKO0FBQ0EsSUFBSUMsVUFBSjtBQUNBLElBQUlDLE1BQUo7QUFDQSxJQUFJQyxNQUFKO0FBQ0EsSUFBSUMsUUFBSjs7QUFFQUMsRUFBRUMsUUFBRixFQUFZQyxLQUFaLENBQWtCLFlBQVc7QUFDekJDO0FBQ0gsQ0FGRDs7QUFJQSxTQUFTQyxXQUFULENBQXFCTCxRQUFyQixFQUErQjtBQUMzQkMsTUFBRSxlQUFGLEVBQW1CSyxLQUFuQixHQUEyQkMsTUFBM0IsQ0FBa0NQLFdBQVcsUUFBN0M7QUFDQSxRQUFJQSxXQUFXLElBQWYsRUFBcUI7QUFDakJELGVBQU9TLFVBQVAsQ0FBa0I7QUFDZEMsdUJBQVcs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QyxNQUFQLENBQWMsUUFBZCxFQUF3QkwsVUFBeEIsRUFBb0MsVUFBcEM7O0FBRUFsQyxpQkFBYSxJQUFJb0IsT0FBT0MsSUFBUCxDQUFZbUIsUUFBaEIsQ0FBeUI7QUFDbENDLGNBQU0xQyxTQUQ0QjtBQUVsQzJDLGtCQUFVLElBRndCO0FBR2xDN0IscUJBQWEsU0FIcUI7QUFJbEM4Qix1QkFBZSxHQUptQjtBQUtsQ0wsc0JBQWM7QUFMb0IsS0FBekIsQ0FBYjtBQU9BdEMsZUFBVzRDLE1BQVgsQ0FBa0IvQyxHQUFsQjtBQUNIOztBQUVEZ0QsWUFBWSxZQUFXO0FBQ25CdEM7QUFDSCxDQUZELEVBRUcsSUFGSCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1hcDtcclxudmFyIGpzb247XHJcbnZhciBpc3NDb29yZHM7XHJcbnZhciBmbGlnaHRQYXRoO1xyXG52YXIgbWFya2VyO1xyXG52YXIgY2lyY2xlO1xyXG52YXIgZGlzdGFuY2U7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgIGFqYXgoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBzZXREaXN0YW5jZShkaXN0YW5jZSkge1xyXG4gICAgJCgnI2Rpc3RhbmNlID4gcCcpLmVtcHR5KCkuYXBwZW5kKGRpc3RhbmNlICsgJyBNaWxlcycpXHJcbiAgICBpZiAoZGlzdGFuY2UgPCAxMDAwKSB7XHJcbiAgICAgICAgY2lyY2xlLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICBmaWxsQ29sb3I6ICcjMDBBQTMwJyxcclxuICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICcjMDA1RDFBJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaXJjbGUuc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgIGZpbGxDb2xvcjogJyNGNjE5MTknLFxyXG4gICAgICAgICAgICBzdHJva2VDb2xvcjogJyNBQTAwMDAnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFqYXgoKSB7XHJcbiAgICAkLmdldEpTT04oJy9hamF4JywgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGlzc0Nvb3JkcyA9IGRhdGFbJ2Nvb3JkaW5hdGVzJ107XHJcbiAgICAgICAgZGlzdGFuY2UgPSBkYXRhWydkaXN0YW5jZSddO1xyXG4gICAgICAgIG1hcmtlci5zZXRQb3NpdGlvbihpc3NDb29yZHNbaXNzQ29vcmRzLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICBmbGlnaHRQYXRoLnNldFBhdGgoaXNzQ29vcmRzKTtcclxuICAgICAgICBzZXREaXN0YW5jZShkaXN0YW5jZSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGluaXRNYXAoKSB7XHJcblxyXG4gICAgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcclxuICAgICAgICB6b29tOiAyLFxyXG4gICAgICAgIHN0eWxlczogW3tcclxuICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJhbGxcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzYXR1cmF0aW9uXCI6IDM2XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjMDAwMDAwXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsaWdodG5lc3NcIjogNDBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJhbGxcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5zdHJva2VcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInZpc2liaWxpdHlcIjogXCJvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjMDAwMDAwXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsaWdodG5lc3NcIjogMTZcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJhbGxcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMuaWNvblwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCJcclxuICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJhZG1pbmlzdHJhdGl2ZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5LmZpbGxcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzAwMDAwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IDIwXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwiYWRtaW5pc3RyYXRpdmVcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeS5zdHJva2VcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzAwMDAwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IDE3XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwid2VpZ2h0XCI6IDEuMlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcImxhbmRzY2FwZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiMwMDAwMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiAyMFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInBvaVwiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiMwMDAwMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiAyMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheVwiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5LmZpbGxcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzAwMDAwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IDE3XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5oaWdod2F5XCIsXHJcbiAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnkuc3Ryb2tlXCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiMwMDAwMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiAyOVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndlaWdodFwiOiAwLjJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmFydGVyaWFsXCIsXHJcbiAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzAwMDAwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IDE4XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5sb2NhbFwiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiMwMDAwMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiAxNlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXRcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjMDAwMDAwXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsaWdodG5lc3NcIjogMTlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiMwMDAwMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiAxN1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgY2VudGVyOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHtcclxuICAgICAgICAgICAgbGF0OiA1My41NDIxNTc5LFxyXG4gICAgICAgICAgICBsbmc6IC0yLjEwOTIwNDVcclxuICAgICAgICB9KSxcclxuICAgICAgICBtYXBUeXBlSWQ6ICd0ZXJyYWluJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcbiAgICAgICAgaWNvbjogJy9pbWFnZXMvaXNzX21hcF9tYXJrZXIucG5nJyxcclxuICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICB0aXRsZTogJ0lTUyBMb2NhdGlvbidcclxuICAgIH0pO1xyXG5cclxuICAgIGhhY2tPbGRoYW0gPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgICBsYXQ6IDUzLjU0MjE1NzksXHJcbiAgICAgICAgICAgIGxuZzogLTIuMTA5MjA0NVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaWNvbjogJy9pbWFnZXMvY29nX21hcF9tYXJrZXIucG5nJyxcclxuICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICB0aXRsZTogJ0hhY2sgT2xkaGFtJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2lyY2xlID0gbmV3IGdvb2dsZS5tYXBzLkNpcmNsZSh7XHJcbiAgICAgICAgbWFwOiBtYXAsXHJcbiAgICAgICAgcmFkaXVzOiAxMjg3NDQwLCAvLyAxMDAwIG1pbGVzIGluIG1ldHJlc1xyXG4gICAgICAgIGZpbGxDb2xvcjogJyNGNjE5MTknLFxyXG4gICAgICAgIHN0cm9rZUNvbG9yOiAnI0FBMDAwMCcsXHJcbiAgICAgICAgc3Ryb2tlV2VpZ2h0OiAxXHJcbiAgICB9KTtcclxuICAgIGNpcmNsZS5iaW5kVG8oJ2NlbnRlcicsIGhhY2tPbGRoYW0sICdwb3NpdGlvbicpO1xyXG5cclxuICAgIGZsaWdodFBhdGggPSBuZXcgZ29vZ2xlLm1hcHMuUG9seWxpbmUoe1xyXG4gICAgICAgIHBhdGg6IGlzc0Nvb3JkcyxcclxuICAgICAgICBnZW9kZXNpYzogdHJ1ZSxcclxuICAgICAgICBzdHJva2VDb2xvcjogJyM4ZmJjZTUnLFxyXG4gICAgICAgIHN0cm9rZU9wYWNpdHk6IDEuMCxcclxuICAgICAgICBzdHJva2VXZWlnaHQ6IDEuNVxyXG4gICAgfSk7XHJcbiAgICBmbGlnaHRQYXRoLnNldE1hcChtYXApO1xyXG59XHJcblxyXG5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgIGFqYXgoKTtcclxufSwgNTAwMCk7XHJcbiJdfQ==